<html>

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.7.0/css/theme/white.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/atom-one-light.min.css">
  <meta charset="utf-8">
  <style>
    .reveal section img {
      border: none;
      box-shadow: none;
    }
    strong {color: GoldenRod ;}
    mark {background-color: GoldenRod ;}
    del{color: lightgray}

    i{color: darkgray;}

    .reveal h2{border-bottom: solid 5px;border-top: solid 5px;}
    /* .reveal h3{border-bottom: solid 2px} */

    .reveal ul { list-style-type: none; margin-left: 0;}
    .reveal ul li.bad:before {
      content: '- ';
      color: red;
      font-weight: bold;
    }
    .reveal ul li.good:before {
      content: '+ ';
      color: green;
      font-weight: bold;
    }
  </style>
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section>
        <h1>Dossier de validation</h1>
        <p>Alexandre Rousseau <br> <a href="mailto:contact@rousseau-alexandre.fr">contact@rousseau-alexandre.fr</a> </p>
      </section>
      <section>
        <h2>Sommaire</h2>
        <ol>
          <!-- <li>A propos de moi</li> -->
          <li>Présentation de iSignif</li>
          <li>Planification</li>
          <li>Développement</li>
          <li>Pérenisation</li>
          <li>Conclusion</li>
        </ol>
      </section>


      <!-- A propos de moi -->
      <section>

        <section>
          <h2>A propos de moi</h2>
          <p><a href="http://rousseau-alexandre.fr">rousseau-alexandre.fr</a></p>
          <p>Développeur <strong>passionné</strong> autodidacte. Travaille actuellement chez <a href="https://www.gac-technology.com/">Gac Technology</a></p>
        </section>

        <section>
          <h3>Gac Technology</h3>
          <p>TODO</p>
        </section>

        <!-- <section>
          <p>A côté:</p>
          <ul>
            <li><strong>Associé</strong> chez <a href="https://isignif.fr/">iSignif SAS</a></li>
            <li><strong>Professeur particulier</strong> Ruby chez <a href="https://www.superprof.fr/developpeur-web-experimente-rails-lyon-debutant-perfectionner.html">Superprof</a></li>
            <li><strong>Auteur</strong>  du livre <a href="https://github.com/madeindjs/api_on_rails">API on Rails 5</a> publié sur <a href="https://leanpub.com/apionrails5">LeanPub</a> <small>(traduit en russe et vendu en +10 exemplaires!)</small></li>
          </ul>
          <small>et d'autres choses sur <a href="https://github.com/madeindjs">github.com/madeindjs</a> et <a href="https://rubygems.org/profiles/madeindjs">rubygems.org</a></small>
        </section> -->

      </section>

      <!-- PRÉSENTATION DE ISIGNIF -->
      <section>

        <section>
          <h2><img src="src/img/logo.svg" height="200"></h2>
          <p>SAS - LegalTech - 2017 - 4 associés</p>
        </section>

        <section>
          <h3>SAS</h3>
          <p><strong>S</strong>ociété par <strong>A</strong>ctions <strong>S</strong>implifiée</p>
          <ul>
            <li class="good">statut de <del>salarié</del> associé </li>
            <li class="bad"><del>salaire</del> dividende</li>
            <li class="good">souplesse sur les règles</li>
            <li class="bad">pacte d'actionnaire</li>
          </ul>
        </section>

        <section>
          <h3>Associés</h3>
          <ul>
            <li> <strong>Sacha</strong> président</li>
            <li> <strong>Adrien</strong> directeur général</li>
            <li> <strong>Alexandre</strong> directeur technique </li>
            <li> <strong>Antoine</strong> designer Web </li>
          </ul>
        </section>

        <section>
          <h3>Mon rôle</h3>
          <ul>
            <li><strong>associé</strong> décisions stratégiques</li>
            <li><strong>directeur technique</strong> choix techniques & dév.</li>
            <li><strong>dpo</strong> mise en conformité RGPD</li>
          </ul>
        </section>

        <section>
          <h3>Principe</h3>
          <p>Simplifier le processus de <strong>signification</strong></p>
          <img src="src/img/signification_after_before.png" alt="">
        </section>

        <section>
          <img src="src/img/workflow_money.png" alt="">
          <p> <strong class="good">8€ / mois</strong> pour les avocats</p>
          <p> <strong class="good">2€ / acte</strong> pour les huissiers</p>
        </section>

      </section>

      <!-- PLANIFICATION -->
      <section>
        <h2>Planification</h2>
        <ul>
          <li>Estimation</li>
          <li>Choix des technologies</li>
          <li>Méthode Kanban</li>
          <li>Git</li>
        </ul>
      </section>

      <!-- Merise -->
      <section>
        <section>
          <h3>Estimation</h3>
          <p><strong>MCD</strong> <i>(Modèle conceptuel des données)</i></p>
          <ul>
            <li><strong>compréhension</strong> de la logique métier</li>
            <li><strong>validation</strong> du cahier des charges</li>
            <li><strong>estimation</strong> de la charge de travail</li>
          </ul>
        </section>

        <section>
          <img src="src/img/merise_bailiffs.png" height="100%">
        </section>
      </section>

      <!-- Choix des technologies -->
      <section>
        <h3>Technologies</h3>
        <img src="src/img/mariadb.svg" alt="" height="200">
        <img src="src/img/ubuntu.svg" alt="" height="200">
        <img src="src/img/rails.svg" alt="" height="200">
        <img src="src/img/vuejs.svg" alt="" height="200">
      </section>

      <!-- kanban -->
      <section>

        <section>
          <h3>Découpage des tâches</h3>
          <p>Méthode <strong>Kanban</strong> avec <a href="https://trello.com">Trello</a>. </p>
          <p>Tâches <strong>indivisibles</strong> et <strong>rapides</strong>.</p>
          <img src="src/img/trello_task.png" alt="">
          <!-- <p>A faire > en cours > terminé</p> -->
        </section>

        <section>
          <h4>Workflow Kanban - 2018</h4>
          <p>Utilisé pour sortir un <strong>MVP</strong><small>[1]</small>.</p>
          <img src="src/img/trello.png" alt="">
          <small>[1] Minimum Viable Product</small>
        </section>

        <section>
          <h4>Workflow Kanban - 2019</h4>
          <p>Utilisé afin de <strong>communiquer</strong> les évolutions.</p>
          <img src="src/img/trello_now.png" alt="">
        </section>

      </section>

      <!-- Git -->
      <section>
        <section>
          <h3>Git</h3>
          <img src="src/img/git.png" alt="">
          <ul>
            <li class="good">Travailler à plusieurs</li>
            <li class="good">Séparer les développement</li>
            <li class="bad">Complexe pour un novice</li>
          </ul>
        </section>

        <section>
          <h4>Git-Flow</h4>
          <!-- <p>Organisation du travail avec Git</p> -->
          <img src="src/img/git-flow.png" alt="">
          <ul>
              <li class="good">Organisation mise en production</li>
              <!-- <li class="good">Séparer les développement</li> -->
              <!-- <li class="bad">Complexe pour un novice</li> -->
            </ul>
        </section>

      </section>

      <!-- DÉVELOPPEMENT DE LA PLATEFORME -->
      <section>
        <h2>Développement</h2>
        <ol>
          <li>Intégration avec Stripe</li>
          <li>Développement Dirigé par les Test</li>
        </ol>
      </section>

      <!-- Stripe -->
      <section>

        <section>
          <h3>
            <img src="src/img/stripe.svg" alt="">
          </h3>
          <ul>
            <li class="good">API très pratique</li>
            <li class="good">Gestion clients, factures, relances</li>
            <li class="bad">1,4% + 0,25€ par transaction</li>
          </ul>
          <img src="src/img/stripe_customers.png" alt="">
        </section>

        <section>
          <h4>Stripe - Abonnement</h4>
          <ol>
            <li>Création d'un produit</li>
            <li>Intégration application</li>
            <li>Webhook</li>
          </ol>
        </section>

        <section>
          <p>Création d'un produit en Ruby</p>
          <pre><code data-trim data-noescape class="ruby">
            # send API request to create product
            product = Stripe::Product.create(
              name: 'Abonnement compte premium',
              type: 'service'
            )
            # send API request to create plan
            Stripe::Plan.create(
              id:       'premium-monthly'
              interval: :month, amount:  8000,
              currency: :eur,   product: product.id,
            )
          </code></pre>
        </section>

        <section>
          <p><strong>Front</strong>, intégration d'un bouton</p>
          <pre><code data-trim data-noescape class="html">
            script
              src="https://checkout.stripe.com/checkout.js"
              data-key="my_public_stripe_token"
          </code></pre>


          <p><strong>Back</strong>, communication avec Stripe</p>
          <pre><code data-trim data-noescape class="ruby">
            # subscriptions_controller.rb
            def create
              Stripe::Subscription.create(
                # ...
              ) rescue Stripe::CardError
            end

            # hooks_controller.rb
            def stripe
              if params[:type] == 'invoice.payment_succeeded'
                # ...
              end
            end
          </code></pre>
        </section>

        <section>
          <h4>Facturation</h4>
          <ol>
            <li><strong style="color: green">ISIGNIF</strong> Ouverture d'une <i>Invoice</i></li>
            <li><strong style="color: green">ISIGNIF</strong> Affectation <i>InvoiceItem</i> à un <i>Customer</i></li>
            <li><strong style="color: blue">STRIPE</strong> Conversion de l' <i>Invoice</i> en PDF</li>
            <li><strong style="color: blue">STRIPE</strong> Collecte / Relance du <i>Customer</i> </li>
          </ol>

        </section>

        <section>
          <p>Création d'un <i>InvoiceItem</i></p>

          <pre><code data-trim data-noescape class="ruby">
            # app/services/invoice_service.rb
            def invoice! signification
              Stripe::InvoiceItem.create #  ...
              @signification.update! invoiced: true
            end
          </code></pre>
        </section>

        <section>
          <img src="src/img/isignif_pay_web.png">
        </section>

      </section>

      <!-- Test Driven Development -->
      <section>

        <section>
          <h3>Développement Dirigé par les Test</h3>
          <img src="src/img/escalade-tu.jpg" alt="">
        </section>

        <!-- <section>
          <h4>Objectifs</h4>
          <p>
            <input type="checkbox" checked> Test Driven Development</br>
            <input type="checkbox" checked> Découverte d'un bug
          </p>
        </section> -->

        <section>
          <h4>Tests unitaires</h4>
          <pre><code data-trim data-noescape class="ruby">
            # tests/models/advocate_test.rb
            test 'should anonymize and not destroy record' do
              old_user = @advocate.as_json
              assert_no_difference('Advocate.count') do
                @advocate.destroy
              end

              %i[email firstname lastname siret ...].each do |field|
                assert_not_equal old_user[field], @advocate.send(field)
              end

              assert @advocate.deleted
            end
          </code></pre>
        </section>

        <section>
          <h4>Tests fonctionnels</h4>
          <pre><code data-trim data-noescape class="ruby">
            test 'should show for connected user' do
              login(@bob)
              get advocate_url(@bob)
              assert_response :success
            end

            test 'should forbid show user for other user' do
              login(@alice)
              get advocate_url(@bob)
              assert_response :forbidden
            end
          </code></pre>
        </section>

        <section>
          <h4>Avantages</h4>
          <ul>
            <li>gain de temps</li>
            <li>limitation des régressions</li>
            <li>factorisation plus facile</li>
            <li><a href="https://www.ideematic.com/actualites/2017/10/garantir-la-maitrise-du-code-ruby-avec-les-tests-unitaires-rspec/">et bien d'autres...</a></li>
          </ul>
        </section>

        <section data-background-image="http://media4.onsugar.com/files/2014/11/06/318/n/1922283/dfaef7b86468ce44_tumblr_l4bjroq9501qaoju6TOtJsU.xxxlarge.gif">
          <h4>Aller plus loin</h4>
          <ul>
            <li>tests d'intégration</li>
            <li>mutation testing avec <a href="https://github.com/mbj/mutant">Mutant</a></li>
          </ul>
        </section>
      </section>

      <section>
        <h2>Pérénisation</h2>
        <ol>
          <li>Refonte des rôles</li>
          <li>RGPD</li>
          <li>Sauvegardes automatisées</li>
        </ol>
      </section>

      <section>
        <section>
          <h3>Refonte de rôles</h3>
        </section>
      </section>

      <section>
        <section>
          <h2>Conclusion</h2>
        </section>

        <section>
          <p>Merci!</p>
        </section>
      </section>

    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.7.0/js/reveal.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.7.0/lib/js/head.min.js"></script>
  <script>
    Reveal.initialize({
      slideNumber: true,
      history: true,
      // More info https://github.com/hakimel/reveal.js#dependencies
      dependencies: [{
        src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.7.0/plugin/highlight/highlight.min.js',
        async: true,
        callback: function() {
          hljs.initHighlightingOnLoad();
        }
      }, ]
    });
  </script>
</body>

</html>
